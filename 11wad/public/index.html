<!DOCTYPE html>
<html>

<head>
    <title>Register</title>
</head>

<body>
    <h2>Register</h2>
    <form id="regForm">
        <input required name="name" placeholder="Name"><br>
        <input required type="email" name="email" placeholder="Email"><br>
        <input required type="text" name="mobile" pattern="[6-9]{1}[0-9]{9}" placeholder="Mobile"><br>
        <input required type="date" name="dob"><br>
        <input required name="city" placeholder="City"><br>
        <input required name="address" placeholder="Address"><br>
        <input required name="username" placeholder="Username"><br>
        <input required type="password" name="password" placeholder="Password"><br>
        <button href="login.html" type="submit">Register</button>
    </form>
    <p><a href="login.html">Already have an account? Login</a></p>

    <script>
        regForm.onsubmit = e => {
            e.preventDefault();
            const data = Object.fromEntries(new FormData(regForm));
            fetch('/register', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(data)
            }).then(() => {
                alert('Registered!');
                location.href = 'login.html'; // Redirect to login page
            });
        };
    </script>

</body>

</html>